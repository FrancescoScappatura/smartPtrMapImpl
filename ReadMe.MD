g++ double_free_with_smart_ptr.cpp -o test